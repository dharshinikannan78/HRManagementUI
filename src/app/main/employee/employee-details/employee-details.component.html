<section>
    <div class="container">
        <div class="clock py-4 text-end">
            <button type="button" *ngIf="check" class="btn btn-secondary"
                (click)="attendanceDetails(addAttendance.value)" style="background: green;">
                <div class="checkIn">
                    CheckIn
                </div>
                {{hour}}:{{minute}}:{{second}}:{{AMPM}}
            </button>
            <button type="button" *ngIf="!check" class="btn btn-secondary"
                (click)="updateattendanceDetails()" style="background: red;">
                <div class="checkOut">
                    CheckOut
                </div>
                {{hour}}:{{minute}}:{{second}}:{{AMPM}}
            </button>
        </div>
    </div>


    <div class="accordion container" id="accordionExample">
        <div class="accordion-item mt-3 mb-3" *ngFor="let data of isData; let i = index">
            <h2 class="accordion-header" id="headingOne{{i}}">
                <button class="accordion-button collapsed "
                    style="display: flex;justify-content: center;text-align: center; " type="button"
                    data-bs-toggle="collapse" attr.data-bs-target="#collapseOne{{i}}" aria-expanded="false"
                    attr.aria-controls="collapseOne{{i}}">
                    {{data[0].teamName}}
                </button>
            </h2>
            <div id="collapseOne{{i}}" class="accordion-collapse collapse" attr.aria-labelledby="headingOne{{i}}"
                data-bs-parent="#accordionExample">
                <div class="accordion-body">
                    <div class="container" id="Employeedata">
                        <ng-container *ngIf="oneEmployee">
                            <div class="row">
                                <div class="col-6 col-sm-6 col-md-6 col-lg-4 h-100" *ngFor="let data of isData[i]">
                                    <div class="row mb-5 g-4 bg-forrow">
                                        <div>
                                            <div class="card h-100">
                                                <div class="card-body position-relative">
                                                    <div class="deleteButton btn"
                                                        (click)="deleteEmployeedetails(data.employeeId,data.firstName)">
                                                        <i class="fa-solid fa-trash-can"></i>
                                                    </div>
                                                    <div class="row g-0 dflex">
                                                        <div class="col-5 col-sm-4 dflex">
                                                            <div class="me-4">
                                                                <ngx-avatar size="70" [style]="customStyle"
                                                                    [name]="data.firstName + ' ' + data.lastName"
                                                                    [src]="'https://localhost:44394/' + data.photoPath"
                                                                    class="card-img-top" alt="..."
                                                                    (click)="getEmployeeDetails(data)"></ngx-avatar>
                                                            </div>
                                                        </div>
                                                        <div class="col-7 text-muted">
                                                            {{data.employeeId}}<b>&nbsp;&nbsp;{{data.firstName}}&nbsp;{{data.lastName}}
                                                            </b>
                                                        </div>
                                                    </div>
                                                    <div class="dflex mt-3">
                                                        <p class="card-text w-75">{{data.teamName}} <span
                                                                class="float-end">{{data.position}}</span></p>
                                                        <p class="card-text"><small class="text-muted"></small>
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" [style.display]="showModal ? 'block' : 'none'">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" [formGroup]="employeeDetail">
                <div class="modal-header">
                    <h3 class="modal-title text-white"> EMPLOYEE DETAILS</h3>
                    <button type="button" class="btn-close closebutton" (click)="CloseButton()"></button>
                </div>
                <div class="container">
                    <div class="step-wizard mt-3 mb-3">
                        <ul class="step-wizard-list p-0">
                            <li class="step-wizard-item  " [class.current-item]="step==1">
                                <span class="progress-count">1</span>
                                <span class="progress-label">Basic Details</span>
                            </li>
                            <li class="step-wizard-item" [class.current-item]="step==2">
                                <span class="progress-count">2</span>
                                <span class="progress-label">Contact Details</span>
                            </li>
                            <li class="step-wizard-item" [class.current-item]="step==3">
                                <span class="progress-count">3</span>
                                <span class="progress-label">Education Details</span>
                            </li>
                            <li class="step-wizard-item" [class.current-item]="step==4">
                                <span class="progress-count">4</span>
                                <span class="progress-label">Work Details</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="container">
                    <div *ngIf="step==1" id="step1" class="row">
                        <h4>Basic Details</h4>
                        <div class="form-group col-md-6">
                            <label class=" form-label">First Name</label>
                            <input type="text" class="form-control" [ngModel]="employee?.employeeId"
                                formControlName="employeeId">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['firstName'].valid && 
                                employeeDetail.controls['firstName']?.touched"> <b>First Name</b> is required *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">First Name</label>
                            <input type="text" class="form-control" [ngModel]="employee?.firstName"
                                formControlName="firstName">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['firstName'].valid && 
                                employeeDetail.controls['firstName']?.touched"> <b>First Name</b> is required *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Last Name</label>
                            <input type="text" class="form-control" [ngModel]="employee?.lastName"
                                formControlName="lastName">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['lastName'].valid && 
                                employeeDetail.controls['lastName']?.touched"> <b>Last Name </b> is required *</span> -->
                        </div>
                        <div class="form-group col">
                            <label class=" form-label">Date Of Birth</label>
                            <input type="text" class="form-control" [ngModel]="employee?.dob" formControlName="dob">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['dob'].valid && 
                                employeeDetail.controls['dob']?.touched"> <b>Dob</b> is required *</span> -->
                        </div>
                    </div>

                    <div *ngIf="step==2" id="step2">
                        <h4>Contact Details</h4>
                        <div class="form-group">
                            <label class=" form-label">Email Id</label>
                            <input type="text" class="form-control" [ngModel]="employee?.emailId"
                                formControlName="emailId">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['emailId'].valid && 
                        employeeDetail.controls['emailId']?.touched"> <b>Email Id</b> is required *</span> -->
                        </div>
                        <div class="form-group">
                            <label class=" form-label">Mobile Number</label>
                            <input type="text" class="form-control" [ngModel]="employee?.number"
                                formControlName="number">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['number'].valid && 
                            employeeDetail.controls['number']?.touched"> <b>Number</b> is required *</span> -->
                        </div>
                        <div class="form-group">
                            <label class=" form-label">Address</label>
                            <textarea class="form-control" [ngModel]="employee?.address"
                                formControlName="address"></textarea>
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['address'].valid && 
                                    employeeDetail.controls['address']?.touched"> <b>Address</b> is required *</span> -->
                        </div>
                        <div class="form-group">
                            <label class=" form-label">Gender</label>
                            <select class="form-select" class="form-control" [ngModel]="employee?.gender"
                                formControlName="gender">
                                <option disabled selected value> -- select an option -- </option>
                                <option value="Female">Female</option>
                                <option value="Male">Male</option>
                            </select>
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['gender'].valid && 
                                    employeeDetail.controls['gender']?.touched"> <b>Gender</b> is required *</span> -->
                        </div>
                    </div>
                    <div *ngIf="step==3" id="step3">
                        <h4>Education Details</h4>
                        <!-- <div class="form-group">
                            <label class=" form-label">Qualification</label>
                            <input type="text" class="form-control" formControlName="qualification">
                            <span class="text-danger" *ngIf="!employeeDetail.controls['qualification'].valid && 
                        employeeDetail.controls['qualification']?.touched"> <b>Qualification</b> is required *</span>
                        </div>
                        <div class="form-group">
                            <label class=" form-label">College/University</label>
                            <input type="text" class="form-control" formControlName="college">
                            <span class="text-danger" *ngIf="!employeeDetail.controls['college'].valid && 
                            employeeDetail.controls['college']?.touched"> <b>College/University</b> is required *</span>
                        </div>
                        <div class="form-group">
                            <label class=" form-label">Year Of Passing</label>
                            <input type="date" class="form-control" formControlName="passedOut">
                            <span class="text-danger" *ngIf="!employeeDetail.controls['passedOut'].valid && 
                                employeeDetail.controls['passedOut']?.touched"> <b>Year Of Passing</b> is required *</span>
                        </div> -->
                        <div class="form-group">
                            <label class=" form-label">Designation</label>
                            <input type="text" class="form-control" [ngModel]="employee?.designation"
                                formControlName="designation">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['skills'].valid && 
                                employeeDetail.controls['skills']?.touched"> <b>Skills</b> is required *</span> -->
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Download Attachment</label>
                            <app-attachment [attachmentId]="attachment"> </app-attachment>
                        </div>
                    </div>
                    <div *ngIf="step==4" class="row" id="step4">
                        <h4>Work Details</h4>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Designation</label>
                            <select class="form-select" class="form-control" [ngModel]="employee?.designation"
                                formControlName="designation">
                                <option disabled selected value> -- select an option -- </option>
                                <option value="Fron End">Fron End</option>
                                <option value="Back End">Back End</option>
                                <option value="Full Stack">Full Stack</option>
                            </select>
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['designation'].valid && 
                                employeeDetail.controls['designation']?.touched"> <b>Designation</b> is required
                                *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Joining Date</label>
                            <input class="form-control" [ngModel]="employee?.joiningDate" formControlName="joiningDate">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['joiningDate'].valid && 
                                employeeDetail.controls['joiningDate']?.touched"> <b>Joining Date</b> is required
                                *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Team Name</label>
                            <input class="form-control" [ngModel]="employee?.teamName" formControlName="teamName">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['joiningDate'].valid && 
                                employeeDetail.controls['joiningDate']?.touched"> <b>Joining Date</b> is required
                                *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Position</label>
                            <input class="form-control" [ngModel]="employee?.position" formControlName="position">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['joiningDate'].valid && 
                                employeeDetail.controls['joiningDate']?.touched"> <b>Joining Date</b> is required
                                *</span> -->
                        </div>
                        <div class="form-group col-md-6">
                            <label class=" form-label">Attachment Id</label>
                            <input class="form-control" [ngModel]="employee?.attachmentIds"
                                formControlName="attachmentIds">
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['joiningDate'].valid && 
                                employeeDetail.controls['joiningDate']?.touched"> <b>Joining Date</b> is required
                                *</span> -->
                        </div>
                        <div class="form-group col-md-12">
                            <label class=" form-label">Work Mode</label>
                            <select class="form-select" class="form-control" [ngModel]="employee?.workMode"
                                formControlName="workMode">
                                <option disabled selected value> -- select an option -- </option>
                                <option value="Frontt End">Part Time</option>
                                <option value="Back End">Full Time</option>
                            </select>
                            <!-- <span class="text-danger" *ngIf="!employeeDetail.controls['workMode'].valid && 
                                    employeeDetail.controls['workMode']?.touched"> <b>WorkMode</b> is required *</span> -->
                        </div>


                    </div>
                    <div class="mt-3 mb-5 butt">
                        <button type="button" class="btn btn-primary " *ngIf="step!=4 " (click)=" next()">Next</button>
                        <button type="submit" class="btn btn-primary " style="margin-right: 1rem;" *ngIf="step==4"
                            (click)="updateEmployee(employeeDetail.value)">Finish</button>
                        <button type="button" class="btn btn-primary "
                            style="margin-right: 1rem; text-align: center !important;" *ngIf="step!=1"
                            (click)="prev()">Prev</button>
                    </div>
                </div>

            </div>
        </div>
    </div>



</section>







<!-- <div class="modal" [style.display]="showModal ? 'block' : 'none'">
        <div class="modal-dialog">
            <div class="modal-content" [formGroup]="employeeDetail">
                <div class="modal-header">
                    <h3 class="modal-title text-white"> EMPLOYEE DETAILS</h3>
                    <button type="button" class="btn-close closebutton" (click)="showModal=false"></button>
                </div>
                <div class="modal-body scrollbar" id="style-1">
                    <div class="row modalbody">
                        <div class="mb-3">
                            <label class=" form-label">First Name</label>
                            <input class="form-control" [ngModel]="employee?.employeeId" formControlName="employeeId">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">First Name</label>
                            <input class="form-control" [ngModel]="employee?.firstName" formControlName="firstName">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Last Name</label>
                            <input class="form-control" [ngModel]="employee?.lastName" formControlName="lastName">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Email Id</label>
                            <input class="form-control" [ngModel]="employee?.emailId" formControlName="emailId">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Date Of Birth</label>
                            <input class="form-control" [ngModel]="employee?.dob" formControlName="dob">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Number</label>
                            <input class="form-control" [ngModel]="employee?.number" formControlName="number">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Date Of Joining</label>
                            <input class="form-control" [ngModel]="employee?.joiningDate" formControlName="joiningDate">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Address</label>
                            <input class="form-control" [ngModel]="employee?.address" formControlName="address">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Desigination</label>
                            <input class="form-control" [ngModel]="employee?.designation" formControlName="designation">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Gender</label>
                            <input class="form-control" [ngModel]="employee?.gender" formControlName="gender">
                        </div>
                        <div class="mb-3">
                            <label class=" form-label">Gender</label>
                            <input class="form-control" [ngModel]="employee?.attachmentIds"
                                formControlName="attachmentIds">
                        </div>

                        <div class="mb-3">
                            <label class=" form-label">Download Attachment</label>
                            <app-attachment [attachmentId]="attachment"> </app-attachment>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" style="float: left;"
                        (click)="showModal=false">Cancel</button>
                    <button type="button" class="btn btn-primary" style="float: right;"
                        (click)="updateEmployee(employeeDetail.value)">Update and
                        Save</button>
                </div>
            </div>
        </div>
    </div> -->